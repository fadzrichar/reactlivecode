{"ast":null,"code":"var _jsxFileName = \"/home/alta6/Alta/Challenge_react/challenge_react/src/Pages/home.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // Import STORE RESOURCES\n\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\"; // Custom Components\n\nimport Header from \"../Components/header\";\nimport ListNews from \"../Components/listNews\";\nimport TopNews from \"../Components/topNews\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      this.props.topArticle();\n      this.props.everything();\n    };\n\n    this.handleInputChange = async event => {\n      let value = event.target.value;\n      console.warn(\"value check\", value);\n      await store.setState({\n        search: value\n      });\n      this.searchNews(value);\n    };\n\n    this.searchNews = async keyword => {\n      const self = store;\n\n      if (keyword.length > 3) {\n        try {\n          const response = await axios.get(this.props.baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + this.props.apiKey);\n          self.setState({\n            listTopNews: response.data.articles\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    };\n  }\n\n  render() {\n    const topHeadlines = this.props.listTopNews.filter(item => {\n      if (item.content !== null && item.image !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    const headlineNews = topHeadlines.map((item, key) => {\n      return React.createElement(TopNews, {\n        key: key,\n        title: item.title,\n        img: item.urlToImage,\n        content: item.description,\n        url: item.url,\n        time: item.publishedAt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      });\n    });\n    const topEvery = this.props.listEverything.filter(item => {\n      if (item.content !== null && item.image !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Header, Object.assign({\n      doSearch: event => this.handleInputChange(event)\n    }, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        marginTop: \"70px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(ListNews, {\n      req_article: topEvery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.props.isLoading ? React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Loading...\") : headlineNews))));\n  }\n\n}\n\nexport default connect(\"listTopNews, listEverything, isLoading, apiKey, baseUrl\", actions)(withRouter(Home));","map":{"version":3,"sources":["/home/alta6/Alta/Challenge_react/challenge_react/src/Pages/home.jsx"],"names":["React","Component","axios","withRouter","connect","actions","store","Header","ListNews","TopNews","Home","componentDidMount","props","topArticle","everything","handleInputChange","event","value","target","console","warn","setState","search","searchNews","keyword","self","length","response","get","baseUrl","apiKey","listTopNews","data","articles","error","render","topHeadlines","filter","item","content","image","headlineNews","map","key","title","urlToImage","description","url","publishedAt","topEvery","listEverything","marginTop","isLoading","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,UAA/B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,MAAMC,IAAN,SAAmBT,SAAnB,CAA6B;AAAA;AAAA;;AAAA,SAC5BU,iBAD4B,GACR,MAAM;AACzB,WAAKC,KAAL,CAAWC,UAAX;AACA,WAAKD,KAAL,CAAWE,UAAX;AACA,KAJ2B;;AAAA,SAM5BC,iBAN4B,GAMR,MAAMC,KAAN,IAAe;AAClC,UAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB;AACAE,MAAAA,OAAO,CAACC,IAAR,CAAa,aAAb,EAA4BH,KAA5B;AACA,YAAMX,KAAK,CAACe,QAAN,CAAe;AAAEC,QAAAA,MAAM,EAAEL;AAAV,OAAf,CAAN;AACA,WAAKM,UAAL,CAAgBN,KAAhB;AACA,KAX2B;;AAAA,SAa5BM,UAb4B,GAaf,MAAMC,OAAN,IAAiB;AAC7B,YAAMC,IAAI,GAAGnB,KAAb;;AACA,UAAIkB,OAAO,CAACE,MAAR,GAAiB,CAArB,EAAwB;AACvB,YAAI;AACH,gBAAMC,QAAQ,GAAG,MAAMzB,KAAK,CAAC0B,GAAN,CACtB,KAAKhB,KAAL,CAAWiB,OAAX,GAAqB,eAArB,GAAuCL,OAAvC,GAAiD,UAAjD,GAA8D,KAAKZ,KAAL,CAAWkB,MADnD,CAAvB;AAGAL,UAAAA,IAAI,CAACJ,QAAL,CAAc;AAAEU,YAAAA,WAAW,EAAEJ,QAAQ,CAACK,IAAT,CAAcC;AAA7B,WAAd;AACA,SALD,CAKE,OAAOC,KAAP,EAAc;AACff,UAAAA,OAAO,CAACe,KAAR,CAAcA,KAAd;AACA;AACD;AACD,KAzB2B;AAAA;;AA2B5BC,EAAAA,MAAM,GAAG;AACR,UAAMC,YAAY,GAAG,KAAKxB,KAAL,CAAWmB,WAAX,CAAuBM,MAAvB,CAA8BC,IAAI,IAAI;AAC1D,UAAIA,IAAI,CAACC,OAAL,KAAiB,IAAjB,IAAyBD,IAAI,CAACE,KAAL,KAAe,IAA5C,EAAkD;AACjD,eAAOF,IAAP;AACA;;AACD,aAAO,KAAP;AACA,KALoB,CAArB;AAOA,UAAMG,YAAY,GAAGL,YAAY,CAACM,GAAb,CAAiB,CAACJ,IAAD,EAAOK,GAAP,KAAe;AACpD,aACC,oBAAC,OAAD;AACC,QAAA,GAAG,EAAEA,GADN;AAEC,QAAA,KAAK,EAAEL,IAAI,CAACM,KAFb;AAGC,QAAA,GAAG,EAAEN,IAAI,CAACO,UAHX;AAIC,QAAA,OAAO,EAAEP,IAAI,CAACQ,WAJf;AAKC,QAAA,GAAG,EAAER,IAAI,CAACS,GALX;AAMC,QAAA,IAAI,EAAET,IAAI,CAACU,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAUA,KAXoB,CAArB;AAaA,UAAMC,QAAQ,GAAG,KAAKrC,KAAL,CAAWsC,cAAX,CAA0Bb,MAA1B,CAAiCC,IAAI,IAAI;AACzD,UAAIA,IAAI,CAACC,OAAL,KAAiB,IAAjB,IAAyBD,IAAI,CAACE,KAAL,KAAe,IAA5C,EAAkD;AACjD,eAAOF,IAAP;AACA;;AACD,aAAO,KAAP;AACA,KALgB,CAAjB;AAOD,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,MAAD;AACA,MAAA,QAAQ,EAAEtB,KAAK,IAAI,KAAKD,iBAAL,CAAuBC,KAAvB;AADnB,OAEI,KAAKJ,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD,EAKC;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE;AAACuC,QAAAA,SAAS,EAAC;AAAX,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AAAU,MAAA,WAAW,EAAEF,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD,EAIC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKrC,KAAL,CAAWwC,SAAX,GAAuB;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAvB,GAA+EZ,YADjF,CAJD,CADD,CALD,CADD;AAkBC;;AAzE2B;;AA4E7B,eAAerC,OAAO,CACrB,yDADqB,EAErBC,OAFqB,CAAP,CAGbF,UAAU,CAACO,IAAD,CAHG,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n// Import STORE RESOURCES\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\n\n// Custom Components\nimport Header from \"../Components/header\";\nimport ListNews from \"../Components/listNews\";\nimport TopNews from \"../Components/topNews\";\n\nclass Home extends Component {\n\tcomponentDidMount = () => {\n\t\tthis.props.topArticle();\n\t\tthis.props.everything()\n\t};\n\n\thandleInputChange = async event => {\n\t\tlet value = event.target.value;\n\t\tconsole.warn(\"value check\", value);\n\t\tawait store.setState({ search: value });\n\t\tthis.searchNews(value);\n\t};\n\n\tsearchNews = async keyword => {\n\t\tconst self = store;\n\t\tif (keyword.length > 3) {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\tthis.props.baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + this.props.apiKey\n\t\t\t\t);\n\t\t\t\tself.setState({ listTopNews: response.data.articles });\n\t\t\t}\tcatch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\t\t\n\t\tconst topHeadlines = this.props.listTopNews.filter(item => {\n\t\t\tif (item.content !== null && item.image !== null) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\n\t\tconst headlineNews = topHeadlines.map((item, key) => {\n\t\t\treturn (\n\t\t\t\t<TopNews\n\t\t\t\t\tkey={key}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\timg={item.urlToImage}\n\t\t\t\t\tcontent={item.description}\n\t\t\t\t\turl={item.url}\n\t\t\t\t\ttime={item.publishedAt}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tconst topEvery = this.props.listEverything.filter(item => {\n\t\t\tif (item.content !== null && item.image !== null) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\n\treturn (\n\t\t<div>\n\t\t\t<Header \n\t\t\tdoSearch={event => this.handleInputChange(event)}\n\t\t\t{...this.props}\n\t\t\t/>\n\t\t\t<div className=\"container\" style={{marginTop:\"70px\"}}>\n\t\t\t\t<div className=\"row \">\n\t\t\t\t\t<div className=\"col-5\">\n\t\t\t\t\t\t<ListNews req_article={topEvery} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-7\">\n\t\t\t\t\t\t{this.props.isLoading ? <div style={{ textAlign: \"center\" }}>Loading...</div> : headlineNews}               \n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t  );\n\t}\n}\n\nexport default connect(\n\t\"listTopNews, listEverything, isLoading, apiKey, baseUrl\",\n\tactions\n)(withRouter(Home));"]},"metadata":{},"sourceType":"module"}