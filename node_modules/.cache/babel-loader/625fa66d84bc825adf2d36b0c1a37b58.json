{"ast":null,"code":"import createStore from \"unistore\";\nimport axios from \"axios\"; // Initiate new store state\n\nconst initState = {\n  listTopNews: [],\n  listEverything: [],\n  isLoading: true,\n  paramsCategory: '',\n  apiKey: \"293e5a8d202a42f788880487d3bc4c2e\",\n  baseUrl: \"https://newsapi.org/v2/\",\n  email: '',\n  password: ''\n};\nexport const store = createStore(initState);\nexport const actions = store => ({\n  // Set dynamic category\n  setCategory: (state, category) => {\n    return {\n      paramsCategory: category\n    };\n  },\n  // Define everything function for listnews everything in Home pages\n  everything: (state, event) => {\n    const urlEverything = state.baseUrl + \"everything?domains=wsj.com,nytimes.com&apiKey=\" + state.apiKey;\n    const self = store;\n    axios.get(urlEverything).then(function (response) {\n      self.setState({\n        listEverything: response.data.articles,\n        isLoading: false\n      }); // handle success\n\n      console.log(response.data);\n    }).catch(function (error) {\n      self.setState({\n        isLoading: false\n      }); // handle error\n\n      console.log(error);\n    });\n  },\n  // Define everything function for listnews everything in newsCategory pages\n  everythingCategory: async (state, event) => {\n    const urlEverything = state.baseUrl + \"everything?domains=wsj.com,nytimes.com&apiKey=\" + state.apiKey;\n    const self = store;\n    await axios.get(urlEverything + \"&q=\" + state.paramsCategory).then(function (response) {\n      self.setState({\n        listEverything: response.data.articles,\n        isLoading: false\n      }); // handle success\n\n      console.log(response.data);\n    }).catch(function (error) {\n      self.setState({\n        isLoading: false\n      }); // handle error\n\n      console.log(error);\n    });\n  },\n  // Define topArticle function for listnews top headlines in Home pages\n  topArticle: (state, event) => {\n    const urlHeadline = state.baseUrl + \"top-headlines?country=us&pageSize=5&apiKey=\" + state.apiKey;\n    const self = store;\n    axios.get(urlHeadline).then(function (response) {\n      self.setState({\n        listTopNews: response.data.articles,\n        isLoading: false\n      }); // handle success\n\n      console.log(response.data);\n    }).catch(function (error) {\n      self.setState({\n        isLoading: false\n      }); // handle error\n\n      console.log(error);\n    });\n  },\n  // Define topArticle function for listnews top headlines in newsCategory pages\n  topArticleCategory: async (state, event) => {\n    const urlHeadline = state.baseUrl + \"top-headlines?country=us&pageSize=5&apiKey=\" + state.apiKey;\n    const self = store;\n    await axios.get(urlHeadline + \"&category=\" + state.paramsCategory).then(function (response) {\n      self.setState({\n        listTopNews: response.data.articles,\n        isLoading: false\n      }); // handle success\n\n      console.log(response.data);\n    }).catch(function (error) {\n      self.setState({\n        isLoading: false\n      }); // handle error\n\n      console.log(error);\n    });\n  },\n  handleInputChange: async (state, event) => {\n    let value = event.target.value;\n    console.warn(\"value check\", value);\n    const self = store;\n\n    if (value.length > 3) {\n      try {\n        const response = await axios.get(state.baseUrl + \"everything?q=\" + value + \"&apiKey=\" + state.apiKey);\n        self.setState({\n          listTopNews: response.data.articles\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  },\n  // Function for Signin pages\n  updateInput: (state, event) => {\n    store.setState({\n      [event.target.name]: event.target.value\n    });\n    console.warn(\"check target\", event.target.value);\n  },\n  postLogin: async (state, event) => {\n    const data = {\n      email: state.email,\n      password: state.password\n    };\n    const self = store;\n    await axios.post(\"https://fadzrilogin.free.beeceptor.com/login\", data).then(async function (response) {\n      console.log(response.data);\n\n      if (response.data.hasOwnProperty(\"api_key\")) {\n        await self.setState({\n          \"api_key\": response.data.api_key\n        });\n        self.setState({\n          \"login_status\": true\n        });\n        self.setState({\n          \"firstname\": response.data.firstname\n        });\n        self.setState({\n          \"lastname\": response.data.lastname\n        });\n        self.setState({\n          \"fullname\": response.data.fullname\n        });\n        self.setState({\n          \"email\": response.data.email\n        });\n        return true;\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n});","map":{"version":3,"sources":["/home/alta6/Alta/Challenge_react/src/store.js"],"names":["createStore","axios","initState","listTopNews","listEverything","isLoading","paramsCategory","apiKey","baseUrl","email","password","store","actions","setCategory","state","category","everything","event","urlEverything","self","get","then","response","setState","data","articles","console","log","catch","error","everythingCategory","topArticle","urlHeadline","topArticleCategory","handleInputChange","value","target","warn","length","updateInput","name","postLogin","post","hasOwnProperty","api_key","firstname","lastname","fullname"],"mappings":"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","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\n// Initiate new store state\nconst initState = {\n    listTopNews: [],\n    listEverything : [],\n\tisLoading: true,\n\tparamsCategory: '',\n    apiKey: \"293e5a8d202a42f788880487d3bc4c2e\",\n\tbaseUrl: \"https://newsapi.org/v2/\",\n\temail: '',\n\tpassword: ''\n}\n\nexport const store = createStore(initState);\n\nexport const actions = store => ({\n\t// Set dynamic category\n\tsetCategory: (state, category) => {\n\t\treturn {paramsCategory : category}\n\t},\n\n    // Define everything function for listnews everything in Home pages\n    everything : (state,event) => {\n\t\tconst urlEverything = state.baseUrl + \"everything?domains=wsj.com,nytimes.com&apiKey=\" + state.apiKey;\n\t\tconst self = store;\n\t\taxios\n\t\t.get(urlEverything)\n\t\t.then(function(response) {\n\t\t  self.setState({ listEverything: response.data.articles, isLoading: false });\n\t\t  // handle success\n\t\t  console.log(response.data);\n\t\t})\n\t\t.catch(function(error) {\n\t\t  self.setState({ isLoading: false });\n\t\t  // handle error\n\t\t  console.log(error);\n\t\t});\n\t},\n\n\t// Define everything function for listnews everything in newsCategory pages\n\teverythingCategory : async (state,event) => {\n\t\tconst urlEverything = state.baseUrl + \"everything?domains=wsj.com,nytimes.com&apiKey=\" + state.apiKey;\n\t\tconst self = store;\n\t\tawait axios\n\t\t.get(urlEverything + \"&q=\" + state.paramsCategory)\n\t\t.then(function(response) {\n\t\t  self.setState({ listEverything: response.data.articles, isLoading: false });\n\t\t  // handle success\n\t\t  console.log(response.data);\n\t\t})\n\t\t.catch(function(error) {\n\t\t  self.setState({ isLoading: false });\n\t\t  // handle error\n\t\t  console.log(error);\n\t\t});\n\t},\n\n    // Define topArticle function for listnews top headlines in Home pages\n    topArticle : (state,event) => {\n\t\tconst urlHeadline = state.baseUrl + \"top-headlines?country=us&pageSize=5&apiKey=\" + state.apiKey;\n\t\tconst self = store;\n\t\taxios\n\t\t.get(urlHeadline)\n\t\t.then(function(response) {\n\t\t  self.setState({ listTopNews: response.data.articles, isLoading: false });\n\t\t  // handle success\n\t\t  console.log(response.data);\n\t\t})\n\t\t.catch(function(error) {\n\t\t  self.setState({ isLoading: false });\n\t\t  // handle error\n\t\t  console.log(error);\n\t\t});\n    },\n\t\n\t// Define topArticle function for listnews top headlines in newsCategory pages\n\ttopArticleCategory : async (state,event) => {\n\t\tconst urlHeadline = state.baseUrl + \"top-headlines?country=us&pageSize=5&apiKey=\" + state.apiKey;\n\t\tconst self = store;\n\t\tawait axios\n\t\t.get(urlHeadline + \"&category=\" + state.paramsCategory)\n\t\t.then(function(response) {\n\t\t  self.setState({ listTopNews: response.data.articles, isLoading: false });\n\t\t  // handle success\n\t\t  console.log(response.data);\n\t\t})\n\t\t.catch(function(error) {\n\t\t  self.setState({ isLoading: false });\n\t\t  // handle error\n\t\t  console.log(error);\n\t\t});\n\t},\n\n\thandleInputChange : async (state, event) => {\n\t\tlet value = event.target.value;\n\t\tconsole.warn(\"value check\", value);\n\t\tconst self = store;\n\t\tif (value.length > 3) {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\tstate.baseUrl + \"everything?q=\" + value + \"&apiKey=\" + state.apiKey\n\t\t\t\t);\n\t\t\t\tself.setState({ listTopNews: response.data.articles });\n\t\t\t}\tcatch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\t},\n\n\t// Function for Signin pages\n\tupdateInput : (state,event) => {\n\t\tstore.setState({ [event.target.name]: event.target.value});\n\t\tconsole.warn(\"check target\", event.target.value);\n\t},\n\n\tpostLogin : async (state,event) => {\n\t\tconst data = {\n\t\t\temail: state.email,\n\t\t\tpassword: state.password\n\t\t};\n\t\tconst self = store;\n\t\tawait axios\n\t\t\t.post(\"https://fadzrilogin.free.beeceptor.com/login\", data)\n\t\t\t.then(async function(response) {\n\t\t\t\tconsole.log(response.data);\n\t\t\t\tif (response.data.hasOwnProperty(\"api_key\")) {\n\t\t\t\t\tawait self.setState({\"api_key\": response.data.api_key});\n\t\t\t\t\tself.setState({\"login_status\": true});\n\t\t\t\t\tself.setState({\"firstname\": response.data.firstname});\n\t\t\t\t\tself.setState({\"lastname\": response.data.lastname});\n\t\t\t\t\tself.setState({\"fullname\": response.data.fullname});\n\t\t\t\t\tself.setState({\"email\": response.data.email});\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t}\n})"]},"metadata":{},"sourceType":"module"}