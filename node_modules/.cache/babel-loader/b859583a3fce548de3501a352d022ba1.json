{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/alta6/Alta/Challenge_react/challenge_react/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";// Import STORE RESOURCES\nimport{withRouter}from\"react-router-dom\";import{connect}from\"unistore/react\";import{actions,store}from\"../store\";// Custom Components\nimport Header from\"../Components/header\";import ListNews from\"../Components/listNews\";import TopNews from\"../Components/topNews\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(){var _getPrototypeOf2;var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Home)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.componentDidMount=function(){_this.props.topArticle();_this.props.everything();};_this.handleInputChange=function _callee(event){var value;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:value=event.target.value;console.warn(\"value check\",value);_context.next=4;return _regeneratorRuntime.awrap(store.setState({search:value}));case 4:_this.searchNews(value);case 5:case\"end\":return _context.stop();}}});};_this.searchNews=function _callee2(keyword){var self,response;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:self=store;if(!(keyword.length>3)){_context2.next=12;break;}_context2.prev=2;_context2.next=5;return _regeneratorRuntime.awrap(axios.get(_this.props.baseUrl+\"everything?q=\"+keyword+\"&apiKey=\"+_this.props.apiKey));case 5:response=_context2.sent;self.setState({listTopNews:response.data.articles});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.error(_context2.t0);case 12:case\"end\":return _context2.stop();}}},null,null,[[2,9]]);};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;var topHeadlines=this.props.listTopNews.filter(function(item){if(item.content!==null&&item.image!==null){return item;}return false;});var headlineNews=topHeadlines.map(function(item,key){return React.createElement(TopNews,{key:key,title:item.title,img:item.urlToImage,content:item.description,url:item.url,time:item.publishedAt});});var topEvery=this.props.listEverything.filter(function(item){if(item.content!==null&&item.image!==null){return item;}return false;});return React.createElement(\"div\",null,React.createElement(Header,Object.assign({doSearch:function doSearch(event){return _this2.handleInputChange(event);}},this.props)),React.createElement(\"div\",{className:\"container\",style:{marginTop:\"70px\"}},React.createElement(\"div\",{className:\"row \"},React.createElement(\"div\",{className:\"col-5\"},React.createElement(ListNews,{req_article:topEvery})),React.createElement(\"div\",{className:\"col-7\"},this.props.isLoading?React.createElement(\"div\",{style:{textAlign:\"center\"}},\"Loading...\"):headlineNews))));}}]);return Home;}(Component);export default connect(\"listTopNews, listEverything, isLoading, apiKey, baseUrl\",actions)(withRouter(Home));","map":{"version":3,"sources":["/home/alta6/Alta/Challenge_react/challenge_react/src/Pages/home.jsx"],"names":["React","Component","axios","withRouter","connect","actions","store","Header","ListNews","TopNews","Home","componentDidMount","props","topArticle","everything","handleInputChange","event","value","target","console","warn","setState","search","searchNews","keyword","self","length","get","baseUrl","apiKey","response","listTopNews","data","articles","error","topHeadlines","filter","item","content","image","headlineNews","map","key","title","urlToImage","description","url","publishedAt","topEvery","listEverything","marginTop","isLoading","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\n// Import STORE RESOURCES\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\n\n// Custom Components\nimport Header from \"../Components/header\";\nimport ListNews from \"../Components/listNews\";\nimport TopNews from \"../Components/topNews\";\n\nclass Home extends Component {\n\tcomponentDidMount = () => {\n\t\tthis.props.topArticle();\n\t\tthis.props.everything()\n\t};\n\n\thandleInputChange = async event => {\n\t\tlet value = event.target.value;\n\t\tconsole.warn(\"value check\", value);\n\t\tawait store.setState({ search: value });\n\t\tthis.searchNews(value);\n\t};\n\n\tsearchNews = async keyword => {\n\t\tconst self = store;\n\t\tif (keyword.length > 3) {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\tthis.props.baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + this.props.apiKey\n\t\t\t\t);\n\t\t\t\tself.setState({ listTopNews: response.data.articles });\n\t\t\t}\tcatch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\t\t\n\t\tconst topHeadlines = this.props.listTopNews.filter(item => {\n\t\t\tif (item.content !== null && item.image !== null) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\n\t\tconst headlineNews = topHeadlines.map((item, key) => {\n\t\t\treturn (\n\t\t\t\t<TopNews\n\t\t\t\t\tkey={key}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\timg={item.urlToImage}\n\t\t\t\t\tcontent={item.description}\n\t\t\t\t\turl={item.url}\n\t\t\t\t\ttime={item.publishedAt}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tconst topEvery = this.props.listEverything.filter(item => {\n\t\t\tif (item.content !== null && item.image !== null) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\n\treturn (\n\t\t<div>\n\t\t\t<Header \n\t\t\tdoSearch={event => this.handleInputChange(event)}\n\t\t\t{...this.props}\n\t\t\t/>\n\t\t\t<div className=\"container\" style={{marginTop:\"70px\"}}>\n\t\t\t\t<div className=\"row \">\n\t\t\t\t\t<div className=\"col-5\">\n\t\t\t\t\t\t<ListNews req_article={topEvery} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-7\">\n\t\t\t\t\t\t{this.props.isLoading ? <div style={{ textAlign: \"center\" }}>Loading...</div> : headlineNews}               \n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t  );\n\t}\n}\n\nexport default connect(\n\t\"listTopNews, listEverything, isLoading, apiKey, baseUrl\",\n\tactions\n)(withRouter(Home));"]},"metadata":{},"sourceType":"module"}